```
设置
{
	主程序
	{
		描述: "含有h内容，18岁以下禁止游玩"
	}

	大厅
	{
		玩家上限 队伍1: 0
		玩家上限 队伍2: 1
	}

	模式
	{
		突击模式
		{
			启用地图
			{
				沃斯卡娅工业区
			}
		}

		综合
		{
			允许切换英雄: 关闭
			复生时间: 0%
			职责限制: 每队同一职责最多2名
			随机英雄复生: 开启
		}
	}

	英雄
	{
		队伍2
		{
			主要攻击模式: 关闭

			启用英雄
			{
				艾什
			}
		}

		综合
		{
			艾什
			{
				延时雷管: 关闭
				短筒猎枪: 关闭
				禁止开镜狙击: 开启
			}
		}
	}

	地图工坊
	{
		文本音量: 30
	}

	扩展
	{
		光束声音
		增益效果和减益效果声音
		爆炸声音
	}
}

变量
{
	全局:
		2: pos
		3: huis
		4: ashe
		5: macree
		6: act_tiequan

	玩家:
		0: text
		1: length
		2: playing
		3: text_input
		4: text_hero
		5: route
		6: choice
		7: is_select
		8: select_view
		9: select_index
		10: select_number
		11: refresh_select
		12: pos
		13: left_lock
}

规则("----------- GAL  AVG 游戏基础模板 by misaka#51577 ---------------")
{
	事件
	{
		持续 - 全局;
	}
}

规则("清除left_lock（防止左键点太快卡死）")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.left_lock == 真;
	}

	动作
	{
		等待(0.500, 无视条件);
		事件玩家.left_lock = 假;
	}
}

规则("初始化")
{
	事件
	{
		持续 - 全局;
	}

	动作
	{
		创建HUD文本(所有玩家(所有队伍), 自定义字符串(""), 无, 自定义字符串("\r\n\r\n\r\n\r\n\r\r\n\r\n\r\n\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"), 顶部, 2, 颜色(
			白色), 颜色(白色), 颜色(白色), 可见和字符串, 默认可见度);
	}
}

规则("播放函数，设置playing=真触发")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.playing == 真;
		事件玩家.length < 数量(事件玩家.text_input);
		事件玩家.left_lock == 假;
	}

	动作
	{
		根据条件跳过(地图工坊设置开关(自定义字符串("AVG设置"), 自定义字符串("禁用文本声音"), 假, 0) == 真, 2);
		等待(0.100, 无视条件);
		播放效果(事件玩家, 状态爆炸声音, 颜色(白色), 事件玩家, 地图工坊设置整数(自定义字符串("AVG设置"), 自定义字符串("文本音量"), 100, 30, 300, 0));
		等待(0.100, 无视条件);
		事件玩家.text = 自定义字符串("{0}{1}", 事件玩家.text, 事件玩家.text_input[事件玩家.length]);
		事件玩家.length += 1;
		如条件为”真“则循环;
		"当前分支为选择分支,则触发一次选择分支刷新"
		If(事件玩家.is_select == 真);
			事件玩家.choice = 0;
			事件玩家.select_index = 0;
			事件玩家.refresh_select = 真;
		End;
	}
}

规则("播放结束函数，即按左键继续，执行后route+1")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		按钮被按下(事件玩家, 按钮(主要攻击模式)) == 真;
		事件玩家.length == 数量(事件玩家.text_input);
		事件玩家.playing == 真;
		事件玩家.is_select == 假;
		事件玩家.left_lock == 假;
	}

	动作
	{
		事件玩家.left_lock = 真;
		事件玩家.playing = 假;
		事件玩家.length = 0;
		事件玩家.text = 自定义字符串("");
		事件玩家.route += 1;
	}
}

规则("选择下一项，即在选择分支中按左键")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		按钮被按下(事件玩家, 按钮(主要攻击模式)) == 真;
		事件玩家.length == 数量(事件玩家.text_input);
		事件玩家.playing == 真;
		事件玩家.is_select == 真;
		事件玩家.left_lock == 假;
	}

	动作
	{
		等待(0.100, 无视条件);
		事件玩家.select_index = 事件玩家.select_index + 1 < 事件玩家.select_number ? 事件玩家.select_index + 1 : 0;
		事件玩家.refresh_select = 真;
	}
}

规则("选择确定，即在选择分支中点右键，根据选中增加route（例如选第一项+1，选第四项+4）")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		按钮被按下(事件玩家, 按钮(辅助攻击模式)) == 真;
		事件玩家.length == 数量(事件玩家.text_input);
		事件玩家.playing == 真;
		事件玩家.is_select == 真;
		事件玩家.left_lock == 假;
	}

	动作
	{
		事件玩家.is_select = 假;
		事件玩家.playing = 假;
		事件玩家.length = 0;
		事件玩家.text = 自定义字符串("");
		事件玩家.select_view = 自定义字符串("");
		事件玩家.choice = 1 + 事件玩家.select_index;
	}
}

规则("玩家初始化")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		已重生(事件玩家) == 真;
	}

	动作
	{
		事件玩家.text = 自定义字符串("");
		事件玩家.select_view = 自定义字符串("");
		创建HUD文本(事件玩家, 事件玩家.playing == 真 ? 英雄图标字符串(事件玩家.text_hero) : 自定义字符串(""), 事件玩家.length == 数量(事件玩家.text_input) && 事件玩家.playing == 真 ? (
			事件玩家.is_select == 真 ? 自定义字符串("按{0}选择，按{1}确定", 输入绑定字符串(按钮(主要攻击模式)), 输入绑定字符串(按钮(辅助攻击模式))) : 自定义字符串("按{0}继续", 输入绑定字符串(按钮(
			主要攻击模式)))) : 自定义字符串(""), 事件玩家.text, 顶部, 6, 颜色(天蓝色), 颜色(白色), 颜色(青绿色), 可见和字符串, 默认可见度);
		创建HUD文本(事件玩家, 无, 无, 事件玩家.select_view, 顶部, 7, 颜色(白色), 颜色(白色), 颜色(青绿色), 可见和字符串, 默认可见度);
		等待(1, 无视条件);
	}
}

规则("----------- GAL  AVG 游戏基础模板 by misaka#51577 ---------------")
{
	事件
	{
		持续 - 全局;
	}
}

规则("初始化场景，创建演员")
{
	事件
	{
		持续 - 全局;
	}

	动作
	{
		全局.pos = 数组(矢量(-38.252, 3.220, 41.862), 矢量(-38.170, 2.020, 38.610), 矢量(-37.389, 4.119, 28.472));
		生成机器人(英雄(艾什), 队伍2, 1, 全局.pos[0], 矢量(0, 0, 0));
		等待(0.500, 无视条件);
		生成机器人(英雄(回声), 队伍1, 0, 全局.pos[1], 矢量(0, 0, 0));
		等待(0.500, 无视条件);
		生成机器人(英雄(卡西迪), 队伍1, 1, 全局.pos[2], 矢量(0, 0, 0));
		生成机器人(英雄(末日铁拳), 队伍2, 2, 矢量(-9.190, -6.980, -8.170), 矢量(-0.690, -0.160, 0.720));
		全局.act_tiequan = 最后创建的实体;
		创建效果(所有玩家(所有队伍), 有害光环, 颜色(黑色), 矢量(6.930, 9.451, 9.842), 5, 可见，位置和半径);
		创建效果(所有玩家(所有队伍), 烟雾声音, 颜色(黑色), 矢量(6.930, 9.451, 9.842), 10, 可见，位置和半径);
		创建效果(所有玩家(所有队伍), 烟雾声音, 颜色(黑色), 矢量(6.930, 9.451, 9.842), 50, 可见，位置和半径);
		创建效果(所有玩家(所有队伍), 烟雾声音, 颜色(黑色), 矢量(6.930, 9.451, 9.842), 10, 可见，位置和半径);
		创建效果(所有玩家(所有队伍), 有害光环, 颜色(黑色), 矢量(6.930, 9.451, 9.842), 5, 可见，位置和半径);
		创建效果(所有玩家(所有队伍), 有害光环, 颜色(黑色), 矢量(6.930, 9.451, 9.842), 5, 可见，位置和半径);
	}
}

规则("初始化艾什机器人")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		艾什;
	}

	条件
	{
		已重生(事件玩家) == 真;
		是否是机器人(事件玩家) == 真;
	}

	动作
	{
		全局.ashe = 事件玩家;
	}
}

规则("初始化回声机器人")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		回声;
	}

	条件
	{
		已重生(事件玩家) == 真;
		是否是机器人(事件玩家) == 真;
	}

	动作
	{
		全局.huis = 事件玩家;
		设置终极技能充能(事件玩家, 100);
	}
}

规则("初始化麦克雷机器人")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		已重生(事件玩家) == 真;
		是否是机器人(事件玩家) == 真;
	}

	动作
	{
		设置朝向(事件玩家, 方向(全局.pos[2], 全局.pos[1]), 至地图);
		全局.macree = 事件玩家;
	}
}

规则("玩家初始化")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		已重生(事件玩家) == 真;
		是否是机器人(事件玩家) == 假;
	}

	动作
	{
		等待(0.500, 无视条件);
		If(地图工坊设置开关(自定义字符串("游戏设置"), 自定义字符串("跳过片头CG"), 假, 0));
			事件玩家.route = 7;
		Else;
			事件玩家.route = 1;
		End;
	}
}

规则("初始路线#1")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 1;
	}

	动作
	{
		"开始第三人称"
		开始镜头(事件玩家, 射线命中位置(地图矢量(矢量(0, 0.450 + Y方向分量(眼睛位置(事件玩家) - 事件玩家), 0.100), 事件玩家, 旋转并转换), 地图矢量(矢量(0, 0.500 + Y方向分量(眼睛位置(事件玩家) - 事件玩家),
			0), 事件玩家, 旋转并转换) + 面朝方向(事件玩家) * -3, 无, 事件玩家, 假), 地图矢量(矢量(0, 0.350 + Y方向分量(眼睛位置(事件玩家) - 事件玩家), 0), 事件玩家, 旋转并转换) + 面朝方向(事件玩家)
			* 10, 10000);
		等待(5, 无视条件);
		事件玩家.text_input = 数组(自定义字符串("我"), 自定义字符串("是"), 自定义字符串("艾"), 自定义字符串("什"), 自定义字符串("，"), 自定义字符串("我"), 自定义字符串("一"), 自定义字符串("直"),
			自定义字符串("以"), 自定义字符串("为"), 自定义字符串("麦"), 自定义字符串("克"), 自定义字符串("雷"), 自定义字符串("是"), 自定义字符串("我"), 自定义字符串("的"), 自定义字符串("男"), 自定义字符串(
			"人"), 自定义字符串("，"), 自定义字符串("直"), 自定义字符串("到"), 自定义字符串("那"), 自定义字符串("天..."));
		事件玩家.text_hero = 英雄(艾什);
		事件玩家.playing = 真;
	}
}

规则("路线#2")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 2;
	}

	动作
	{
		等待(0.250, 无视条件);
		设置朝向(全局.huis, 方向(眼睛位置(全局.huis), 全局.pos[0]), 至地图);
		按下按键(全局.huis, 按钮(终极技能));
		等待(0.250, 无视条件);
		设置不可见(全局.ashe, 全部);
		等待(0.250, 无视条件);
		事件玩家.pos = 所选位置(事件玩家);
		设置不可见(事件玩家, 全部);
		开始镜头(事件玩家, 矢量(-32.004, 3.220, 38.102), 矢量(-39.800, 3.260, 38.150), 9999);
		"这里需要把玩家传送到镜头位置，否则没有声音"
		传送(事件玩家, 矢量(-32.004, 3.220, 38.102));
		等待(0.500, 无视条件);
		开始限制阈值(全局.macree, 1, 1, 0, 1, 0, 1);
		等待(1.500, 无视条件);
		停止限制阈值(全局.macree);
		事件玩家.text_hero = 英雄(卡西迪);
		事件玩家.text_input = 数组(自定义字符串("你"), 自定义字符串("怎"), 自定义字符串("么"), 自定义字符串("穿"), 自定义字符串("着"), 自定义字符串("艾"), 自定义字符串("什"), 自定义字符串("的"),
			自定义字符串("衣"), 自定义字符串("服"), 自定义字符串("啊"), 自定义字符串("？\r\n"), 自定义字符串("还"), 自定义字符串("用"), 自定义字符串("人"), 自定义字符串("东"), 自定义字符串("西"),
			自定义字符串("啊"), 自定义字符串("？"));
		事件玩家.playing = 真;
	}
}

规则("路线#3")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 3;
	}

	动作
	{
		开始朝向(全局.huis, 方向(所选位置(全局.huis), 所选位置(全局.macree)), 250, 至地图, 方向及角速率);
		等待(1, 无视条件);
		事件玩家.text_input = 数组(自定义字符串("既"), 自定义字符串("然"), 自定义字符串("要"), 自定义字符串("追"), 自定义字符串("求"), 自定义字符串("刺"), 自定义字符串("激"), 自定义字符串("，"),
			自定义字符串("就"), 自定义字符串("贯"), 自定义字符串("彻"), 自定义字符串("到"), 自定义字符串("底"), 自定义字符串("了"));
		事件玩家.text_hero = 英雄(回声);
		事件玩家.playing = 真;
	}
}

规则("路线#4")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 4;
	}

	动作
	{
		事件玩家.text_input = 数组(自定义字符串("你"), 自定义字符串("好"), 自定义字符串("骚"), 自定义字符串("啊"), 自定义字符串("！"));
		事件玩家.text_hero = 英雄(卡西迪);
		事件玩家.playing = 真;
	}
}

规则("路线#5")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 5;
	}

	动作
	{
		设置不可见(事件玩家, 无);
		传送(事件玩家, 事件玩家.pos);
		等待(0.250, 无视条件);
		"开始第三人称"
		开始镜头(事件玩家, 射线命中位置(地图矢量(矢量(0, 0.450 + Y方向分量(眼睛位置(事件玩家) - 事件玩家), 0.100), 事件玩家, 旋转并转换), 地图矢量(矢量(0, 0.500 + Y方向分量(眼睛位置(事件玩家) - 事件玩家),
			0), 事件玩家, 旋转并转换) + 面朝方向(事件玩家) * -3, 无, 事件玩家, 假), 地图矢量(矢量(0, 0.350 + Y方向分量(眼睛位置(事件玩家) - 事件玩家), 0), 事件玩家, 旋转并转换) + 面朝方向(事件玩家)
			* 10, 10000);
		事件玩家.text_input = 数组(自定义字符串("麦"), 自定义字符串("克"), 自定义字符串("雷"), 自定义字符串("、"), 自定义字符串("回"), 自定义字符串("声"), 自定义字符串("，"), 自定义字符串("你"),
			自定义字符串("们"), 自定义字符串("等"), 自定义字符串("着"), 自定义字符串("吧"), 自定义字符串("！"), 自定义字符串("\r\n"), 自定义字符串("我"), 自定义字符串("会"), 自定义字符串("把"), 自定义字符串(
			"你"), 自定义字符串("们"), 自定义字符串("加"), 自定义字符串("注"), 自定义字符串("在"), 自定义字符串("我"), 自定义字符串("身"), 自定义字符串("上"), 自定义字符串("的"), 自定义字符串("痛"),
			自定义字符串("苦"), 自定义字符串("全"), 自定义字符串("部"), 自定义字符串("还"), 自定义字符串("给"), 自定义字符串("你"), 自定义字符串("们"), 自定义字符串("的"), 自定义字符串("！"));
		事件玩家.text_hero = 英雄(艾什);
		事件玩家.playing = 真;
	}
}

规则("路线#6")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 6;
	}

	动作
	{
		事件玩家.route = 7;
	}
}

规则("彩蛋触发器")
{
	事件
	{
		玩家阵亡;
		双方;
		全部;
	}

	条件
	{
		是否是机器人(被攻击方) == 真;
		攻击方.route <= 4;
	}

	动作
	{
		攻击方.route = 999;
	}
}

规则("彩蛋结局")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 1000;
	}

	动作
	{
		停止镜头(事件玩家);
		创建HUD文本(事件玩家, 自定义字符串("彩蛋结局——改变历史\r\n在剧情发展前消灭麦克雷/回声"), 无, 无, 顶部, 6, 颜色(红色), 颜色(白色), 颜色(白色), 可见和字符串, 默认可见度);
	}
}

禁用 规则("debug")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	动作
	{
		创建HUD文本(事件玩家, 自定义字符串("位置 {0}", 所选位置(事件玩家)), 无, 无, 左边, 0, 颜色(白色), 颜色(白色), 颜色(白色), 可见和字符串, 默认可见度);
		创建HUD文本(事件玩家, 自定义字符串("命中 {0}", 射线命中位置(眼睛位置(事件玩家), 眼睛位置(事件玩家) + 1000 * 面朝方向(事件玩家), 所有玩家(所有队伍), 事件玩家, 真)), 无, 无, 左边, 0, 颜色(白色), 颜色(
			白色), 颜色(白色), 可见和字符串, 默认可见度);
		创建HUD文本(事件玩家, 自定义字符串("面朝方向{0}", 面朝方向(事件玩家)), 无, 无, 左边, 0, 颜色(白色), 颜色(白色), 颜色(白色), 可见和字符串, 默认可见度);
		创建HUD文本(事件玩家, 自定义字符串("眼睛{0}", 眼睛位置(事件玩家)), 无, 无, 左边, 0, 颜色(白色), 颜色(白色), 颜色(白色), 可见和字符串, 默认可见度);
	}
}

规则("游戏正式开始")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 7;
	}

	动作
	{
		大字体信息(事件玩家, 自定义字符串("游戏正式开始！每一个选择都至关重要！！！"));
		移除机器人(队伍2, 1);
		传送(事件玩家, 矢量(23.629, -3.535, -6.523));
		事件玩家.text_input = 数组(自定义字符串("嘿！"), 自定义字符串("这"), 自定义字符串("里！！！"));
		事件玩家.text_hero = 英雄(末日铁拳);
		事件玩家.playing = 真;
	}
}

规则("路线#8")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 8;
	}

	动作
	{
		事件玩家.text_input = 数组(自定义字符串("顺"), 自定义字符串("着"), 自定义字符串("声"), 自定义字符串("音"), 自定义字符串("走"), 自定义字符串("了"), 自定义字符串("过"), 自定义字符串("去"));
		事件玩家.text_hero = 所用英雄(事件玩家);
		事件玩家.playing = 真;
	}
}

规则("路线#9")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 9;
	}

	动作
	{
		传送(事件玩家, 矢量(-12.411, -6.980, -5.094));
		设置朝向(事件玩家, 矢量(0.740, -0.040, -0.670), 至地图);
		设置状态(事件玩家, 无, 定身, 9999);
		事件玩家.text_input = 数组(自定义字符串("我"), 自定义字符串("在"), 自定义字符串("这"), 自定义字符串("关"), 自定义字符串("了"), 自定义字符串("很"), 自定义字符串("久"), 自定义字符串("了"),
			自定义字符串("，"), 自定义字符串("如"), 自定义字符串("果"), 自定义字符串("你"), 自定义字符串("放"), 自定义字符串("我"), 自定义字符串("出"), 自定义字符串("去"), 自定义字符串("，\r\n"),
			自定义字符串("我"), 自定义字符串("就"), 自定义字符串("帮"), 自定义字符串("你"), 自定义字符串("完"), 自定义字符串("成"), 自定义字符串("复"), 自定义字符串("仇"), 自定义字符串("！"));
		事件玩家.text_hero = 英雄(末日铁拳);
		事件玩家.is_select = 真;
		事件玩家.select_number = 2;
		事件玩家.playing = 真;
	}
}

规则("路线#9 选择 释放/不释放铁拳")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 9;
		事件玩家.refresh_select == 真;
	}

	动作
	{
		事件玩家.refresh_select = 假;
		事件玩家.select_view = 自定义字符串("{0}释放\r\n{1}不释放", 事件玩家.select_index == 0 ? 图标字符串(箭头：向右) : 自定义字符串(""), 事件玩家.select_index == 1 ? 图标字符串(
			箭头：向右) : 自定义字符串(""));
	}
}

规则("路线9 不释放铁拳 -> 结局1")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 9;
		事件玩家.choice == 2;
	}

	动作
	{
		事件玩家.route = 1001;
		创建HUD文本(事件玩家, 自定义字符串("结局1-不释放铁拳\r\n你没有释放铁拳，由于你孤身一人，你最终的复仇未能成功"), 无, 无, 顶部, 6, 颜色(红色), 颜色(白色), 颜色(白色), 可见和字符串, 默认可见度);
		清除状态(事件玩家, 定身);
	}
}

规则("路线9 释放铁拳 -> 路线10")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 9;
		事件玩家.choice == 1;
	}

	动作
	{
		事件玩家.route = 10;
		事件玩家.choice = 0;
	}
}

规则("路线#10")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 10;
	}

	动作
	{
		传送(全局.act_tiequan, 矢量(-9.740, -6.980, -6.940));
		设置朝向(全局.act_tiequan, 方向(眼睛位置(全局.act_tiequan), 所选位置(事件玩家)), 至地图);
		事件玩家.text_input = 数组(自定义字符串("你"), 自定义字符串("放"), 自定义字符串("出"), 自定义字符串("了"), 自定义字符串("末"), 自定义字符串("日"), 自定义字符串("铁"), 自定义字符串("拳"),
			自定义字符串("！"));
		事件玩家.text_hero = 英雄(末日铁拳);
		事件玩家.playing = 真;
	}
}

规则("路线#11")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 11;
	}

	动作
	{
		事件玩家.text_input = 数组(自定义字符串("那"), 自定义字符串("个"), 自定义字符串("...."), 自定义字符串("我"), 自定义字符串("在"), 自定义字符串("监"), 自定义字符串("狱"), 自定义字符串("关"),
			自定义字符串("了"), 自定义字符串("几"), 自定义字符串("年"), 自定义字符串("了"), 自定义字符串("，"), 自定义字符串("太"), 自定义字符串("久"), 自定义字符串("没"), 自定义字符串("碰"), 自定义字符串(
			"过"), 自定义字符串("女"), 自定义字符串("人"), 自定义字符串("了"), 自定义字符串("，\r\n"), 自定义字符串("求"), 自定义字符串("求"), 自定义字符串("你"), 自定义字符串("能"), 自定义字符串("不"),
			自定义字符串("能"), 自定义字符串("让"), 自定义字符串("我"), 自定义字符串("来"), 自定义字符串("一"), 自定义字符串("发"), 自定义字符串("？"));
		事件玩家.text_hero = 英雄(末日铁拳);
		事件玩家.is_select = 真;
		事件玩家.select_number = 2;
		事件玩家.playing = 真;
	}
}

规则("路线#11 选择 能/不能")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 11;
		事件玩家.refresh_select == 真;
	}

	动作
	{
		事件玩家.refresh_select = 假;
		事件玩家.select_view = 自定义字符串("{0}能\r\n{1}不能", 事件玩家.select_index == 0 ? 图标字符串(箭头：向右) : 自定义字符串(""), 事件玩家.select_index == 1 ? 图标字符串(
			箭头：向右) : 自定义字符串(""));
	}
}

规则("路线11 不能 -> 路线12")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 11;
		事件玩家.choice == 2;
	}

	动作
	{
		事件玩家.choice = 0;
		事件玩家.route = 12;
	}
}

规则("路线#12")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 12;
	}

	动作
	{
		事件玩家.text_input = 数组(自定义字符串("这·"), 自定义字符串("样·"), 自定义字符串("啊"), 自定义字符串("·"), 自定义字符串("·"), 自定义字符串("·"));
		事件玩家.text_hero = 英雄(末日铁拳);
		事件玩家.playing = 真;
	}
}

规则("路线#13 结局2")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 13;
	}

	动作
	{
		关闭游戏预设复生模式(事件玩家);
		开始按下按钮(全局.act_tiequan, 按钮(辅助攻击模式));
		等待(0.200, 无视条件);
		停止按下按钮(全局.act_tiequan, 按钮(辅助攻击模式));
		事件玩家.route = 1001;
		击杀(事件玩家, 全局.act_tiequan);
		创建HUD文本(事件玩家, 自定义字符串("结局2\r\n被铁拳先杀后JIAN"), 无, 无, 顶部, 6, 颜色(红色), 颜色(白色), 颜色(白色), 可见和字符串, 默认可见度);
		交流(全局.act_tiequan, 问候);
	}
}

规则("路线11 能 -> 路线14")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 11;
		事件玩家.choice == 1;
	}

	动作
	{
		事件玩家.choice = 0;
		事件玩家.route = 14;
	}
}

规则("路线#14")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 14;
	}

	动作
	{
		事件玩家.text_input = 数组(自定义字符串("那"), 自定义字符串("走"), 自定义字符串("吧"), 自定义字符串("！"));
		事件玩家.text_hero = 英雄(末日铁拳);
		事件玩家.playing = 真;
	}
}

规则("路线#15 -> 结局3")
{
	事件
	{
		持续 - 每名玩家;
		双方;
		全部;
	}

	条件
	{
		事件玩家.route == 15;
	}

	动作
	{
		开始镜头(事件玩家, 矢量(5.905, 9.249, 9.133), 矢量(6.771, 9.249, 9.330), 50);
		等待(1.500, 无视条件);
		播放效果(事件玩家, 负面状态施加声音, 颜色(白色), 矢量(5.905, 9.249, 9.133), 100);
		小字体信息(事件玩家, 自定义字符串("{0}：啊…唔…不要~", 事件玩家));
		等待(3, 无视条件);
		播放效果(事件玩家, 负面状态施加声音, 颜色(白色), 矢量(5.905, 9.249, 9.133), 100);
		小字体信息(事件玩家, 自定义字符串("{0}：啊啊，啊啊！~", 事件玩家));
		等待(4, 无视条件);
		播放效果(事件玩家, 负面状态施加声音, 颜色(白色), 矢量(5.905, 9.249, 9.133), 100);
		小字体信息(事件玩家, 自定义字符串("{0}：不要射进来啊，会怀孕的啊！", 事件玩家));
		等待(2, 无视条件);
		小字体信息(事件玩家, 自定义字符串("{0}：射在{1}身体里面了！", 英雄(末日铁拳), 事件玩家));
		等待(2, 无视条件);
		停止镜头(事件玩家);
		等待(1, 无视条件);
		设置终极技能充能(全局.act_tiequan, 100);
		按下按键(全局.act_tiequan, 按钮(终极技能));
		等待(1, 无视条件);
		传送(全局.act_tiequan, 矢量(-36.294, 3.465, 38.724));
		按下按键(全局.act_tiequan, 按钮(主要攻击模式));
		关闭游戏预设复生模式(全局.macree);
		关闭游戏预设复生模式(全局.huis);
		播放效果(事件玩家, “末日铁拳”毁天灭地击中声音, 颜色(白色), 事件玩家, 100);
		等待(1, 无视条件);
		击杀(全局.macree, 全局.act_tiequan);
		击杀(全局.huis, 全局.act_tiequan);
		事件玩家.route = 1001;
		创建HUD文本(事件玩家, 自定义字符串("结局3\r\n你的复仇成功了，麦克雷和回声都gg了\r\n但你怀上了铁拳的孩子，最终你成为了铁拳的xing奴"), 无, 无, 顶部, 6, 颜色(红色), 颜色(白色), 颜色(白色), 可见和字符串,
			默认可见度);
		清除状态(事件玩家, 定身);
	}
}
```
